<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width,initial-scale=1" name="viewport" />
    <title>CURA AI -- Advanced Healthcare Assistant</title>
    <style>
        /* --- RESET --- */
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        html,
        body {
            height: 100%;
        }
        /* --- ENHANCED THEME COLORS --- */
        
         :root {
            --navy-1: #0a1a3d;
            --navy-2: #03101f;
            --deep-blue: #0a71d0;
            --bright-blue: #1e90ff;
            --sky-blue: #4a9efd;
            --tint: #b3d4ff;
            --green: #10b981;
            --glass-alpha: 0.08;
            --accent-purple: #8b5cf6;
            --accent-orange: #f59e0b;
        }
        /* --- LOGO ANIMATION OVERLAY --- */
        
        #logoAnimation {
            position: fixed;
            inset: 0;
            z-index: 50000;
            background: linear-gradient(135deg, var(--navy-1), var(--navy-2));
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            transition: opacity 1s ease;
        }
        
        #logoAnimation.fade-out {
            opacity: 0;
            pointer-events: none;
        }
        
        .logo-container {
            text-align: center;
            animation: logoZoom 7s ease-in-out;
        }
        
        .logo-image {
            width: 300px;
            height: 200px;
            object-fit: contain;
            margin-bottom: 20px;
        }
        
        .logo-text {
            font-size: 3rem;
            font-weight: 800;
            color: var(--tint);
            margin-bottom: 10px;
            animation: textGlow 2s ease-in-out infinite alternate;
        }
        
        .logo-tagline {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 600;
            animation: fadeInUp 3s ease forwards;
        }
        
        @keyframes logoZoom {
            0% {
                transform: scale(0.5);
                opacity: 0;
            }
            20% {
                transform: scale(1.1);
                opacity: 1;
            }
            80% {
                transform: scale(1);
                opacity: 1;
            }
            100% {
                transform: scale(1.2);
                opacity: 0.8;
            }
        }
        
        @keyframes textGlow {
            0% {
                text-shadow: 0 0 20px rgba(179, 212, 255, 0.5);
            }
            100% {
                text-shadow: 0 0 40px rgba(179, 212, 255, 0.8), 0 0 60px rgba(179, 212, 255, 0.6);
            }
        }
        
        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(30px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        body {
            font-family: "Segoe UI", Arial, sans-serif;
            color: #fff;
            min-height: 100vh;
            background: radial-gradient(circle at top left, rgba(16, 185, 129, 0.35), transparent 40%), radial-gradient(circle at top right, rgba(34, 197, 94, 0.20), transparent 35%), radial-gradient(circle at bottom right, rgba(6, 182, 212, 0.30), transparent 40%), linear-gradient(135deg, var(--navy-1), var(--navy-2));
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            transition: background 600ms ease;
        }
        /* MCF Connect inspired scrolling background */
        
        body.scrolled {
            background: radial-gradient(circle at top left, rgba(8, 120, 90, 0.12), transparent 40%), radial-gradient(circle at top right, rgba(8, 120, 90, 0.22), transparent 35%), linear-gradient(135deg, #03102a 10%, #000814 100%);
        }
        /* Enhanced scrolling effects */
        
        .parallax-bg {
            position: fixed;
            inset: 0;
            z-index: -1;
            background: radial-gradient(circle at 20% 80%, rgba(16, 185, 129, 0.15) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(6, 182, 212, 0.15) 0%, transparent 50%), linear-gradient(135deg, var(--navy-1) 0%, var(--navy-2) 100%);
            transform: translateZ(0);
            will-change: transform;
        }
        /* --- ENHANCED BACKGROUND ANIMATIONS --- */
        
        .bg-anim {
            position: fixed;
            inset: 0;
            overflow: hidden;
            pointer-events: none;
            z-index: 0;
        }
        
        .floating-circle {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(26, 170, 255, 0.12), rgba(10, 71, 208, 0.04));
            filter: blur(18px);
            animation: float 18s infinite ease-in-out;
            transform-origin: center;
            transition: opacity 400ms ease, transform 400ms ease;
        }
        
        .floating-circle.c1 {
            width: 260px;
            height: 260px;
            top: 8%;
            left: 12%;
            animation-duration: 20s;
        }
        
        .floating-circle.c2 {
            width: 160px;
            height: 160px;
            top: 48%;
            left: 72%;
            animation-duration: 16s;
        }
        
        .floating-circle.c3 {
            width: 320px;
            height: 320px;
            top: 72%;
            left: 20%;
            animation-duration: 24s;
        }
        
        .floating-circle.c4 {
            width: 200px;
            height: 200px;
            top: 25%;
            left: 85%;
            animation-duration: 22s;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.15), rgba(139, 92, 246, 0.05));
        }
        
        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg) scale(1);
            }
            50% {
                transform: translateY(-48px) rotate(140deg) scale(1.05);
            }
            100% {
                transform: translateY(0) rotate(360deg) scale(1);
            }
        }
        
        .heartbeat {
            position: fixed;
            left: 0;
            right: 0;
            bottom: 6%;
            height: 72px;
            z-index: 0;
            opacity: 0.45;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="72"><polyline fill="none" stroke="%23ffffff55" stroke-width="2" points="0,36 60,36 70,20 80,60 90,36 160,36 170,10 180,62 190,36 260,36 270,20 280,60 290,36 800,36"/></svg>') repeat-x;
            background-size: 420px 72px;
            animation: heartbeatAnim 4s linear infinite;
            transition: opacity 400ms ease;
            pointer-events: none;
        }
        
        @keyframes heartbeatAnim {
            from {
                background-position: 0 0
            }
            to {
                background-position: -420px 0
            }
        }
        
        body.scrolled .heartbeat {
            opacity: 0.8;
            animation-duration: 3s;
        }
        /* --- ENHANCED HEADER --- */
        
        header {
            position: relative;
            z-index: 10010;
            padding: 1.25rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .brand-box {
            display: flex;
            flex-direction: column;
            gap: 4px;
            padding: 12px 16px;
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(12px) saturate(150%);
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 8px 24px rgba(2, 6, 23, 0.5);
            transition: transform 300ms ease, box-shadow 300ms ease, background 300ms ease;
            cursor: pointer;
        }
        
        .brand-box:hover {
            transform: translateY(-6px) scale(1.02);
            background: rgba(255, 255, 255, 0.12);
            box-shadow: 0 12px 40px rgba(2, 6, 23, 0.7);
        }
        
        .brand-title {
            font-weight: 700;
            font-size: 1.1rem;
            letter-spacing: 0.8px;
            color: var(--tint);
        }
        
        .brand-tag {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 600;
        }
        /* --- ENHANCED NAVIGATION --- */
        
        .nav-section {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .nav-btn {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: #fff;
            padding: 10px 16px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 200ms cubic-bezier(.2, .9, .2, 1);
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
        }
        
        .nav-btn:hover {
            transform: translateY(-4px);
            background: linear-gradient(90deg, var(--deep-blue), var(--bright-blue));
            box-shadow: 0 8px 25px rgba(10, 113, 208, 0.3);
        }
        
        .language-dropdown {
            position: relative;
        }
        
        .dropdown-content {
            position: absolute;
            top: 120%;
            right: 0;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(15px);
            border-radius: 12px;
            min-width: 240px;
            max-height: 320px;
            overflow: auto;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.8);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 220ms ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 10020;
        }
        
        .dropdown-content.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .dropdown-item {
            padding: 12px 16px;
            color: #fff;
            text-decoration: none;
            display: block;
            transition: background 200ms ease;
            font-weight: 600;
            cursor: pointer;
        }
        
        .dropdown-item:hover {
            background: rgba(255, 255, 255, 0.06);
        }
        /* Location Modal */
        
        .location-modal {
            display: none;
            position: fixed;
            inset: 0;
            z-index: 30000;
            background: rgba(0, 0, 0, 0.8);
            align-items: center;
            justify-content: center;
            padding: 24px;
        }
        
        .location-modal-content {
            width: min(800px, 90vw);
            height: min(600px, 80vh);
            background: rgba(255, 255, 255, 0.98);
            color: #06203a;
            border-radius: 14px;
            padding: 20px;
            position: relative;
            display: flex;
            flex-direction: column;
        }
        
        .location-search {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 1rem;
        }
        
        .map-container {
            flex: 1;
            background: #f0f0f0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            min-height: 400px;
        }
        
        .map-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .map-btn {
            width: 40px;
            height: 40px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        /* --- SIDE PANEL (Enhanced) --- */
        
        .side-panel {
            position: fixed;
            left: -420px;
            top: 0;
            bottom: 0;
            width: 380px;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(18px) saturate(130%);
            border-right: 1px solid rgba(255, 255, 255, 0.06);
            padding: 20px;
            z-index: 10030;
            transition: left 320ms cubic-bezier(.2, .9, .2, 1);
            display: flex;
            flex-direction: column;
            gap: 12px;
            overflow-y: auto;
        }
        
        .side-panel.open {
            left: 0;
        }
        
        .side-user {
            display: flex;
            gap: 12px;
            align-items: center;
            padding: 10px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.04);
            cursor: pointer;
            margin-bottom: 20px;
        }
        
        .user-avatar {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(90deg, var(--deep-blue), var(--bright-blue));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 20px;
            color: white;
        }
        
        .side-item {
            padding: 12px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 700;
            display: flex;
            gap: 10px;
            align-items: center;
            border: 1px solid rgba(255, 255, 255, 0.04);
            background: rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        
        .side-item:hover {
            transform: translateX(6px);
            background: rgba(255, 255, 255, 0.06);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .side-submenu {
            display: none;
            flex-direction: column;
            gap: 8px;
            padding-left: 10px;
            margin-top: 8px;
        }
        
        .side-submenu.open {
            display: flex;
        }
        /* --- CENTER MODAL (Enhanced) --- */
        
        .center-modal {
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%) scale(0.98);
            width: min(920px, 94vw);
            max-height: 86vh;
            overflow: auto;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            backdrop-filter: blur(20px) saturate(160%);
            border-radius: 18px;
            border: 1px solid rgba(255, 255, 255, 0.12);
            padding: 20px;
            z-index: 10040;
            box-shadow: 0 30px 90px rgba(0, 0, 0, 0.7);
            opacity: 0;
            visibility: hidden;
            transition: opacity 220ms ease, transform 220ms ease, visibility 220ms;
        }
        
        .center-modal.open {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 12px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 20px;
        }
        
        .modal-controls {
            display: flex;
            gap: 8px;
        }
        
        .modal-control-btn {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: all 0.2s ease;
        }
        
        .minimize-btn {
            background: #fbbf24;
            color: white;
        }
        
        .maximize-btn {
            background: #10b981;
            color: white;
        }
        
        .close-btn {
            background: #ef4444;
            color: white;
        }
        
        .modal-control-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        /* --- MAIN LAYOUT --- */
        
        .main {
            position: relative;
            z-index: 3;
            display: grid;
            grid-template-columns: minmax(300px, 1fr) minmax(450px, 58%);
            gap: 2.5rem;
            padding: 2rem;
            width: 100%;
            max-width: 1300px;
            margin: 0 auto;
        }
        
        .hero {
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
            align-self: start;
        }
        
        .hero h2 {
            font-size: 2.3rem;
            line-height: 1.15;
            margin-bottom: 8px;
            font-weight: 700;
            background: linear-gradient(90deg, #fff, var(--tint));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .hero p {
            color: rgba(255, 255, 255, 0.85);
            max-width: 58ch;
            line-height: 1.6;
            font-size: 1.05rem;
            margin-bottom: 15px;
        }
        
        .current-location {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.08);
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--tint);
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .current-location:hover {
            background: rgba(255, 255, 255, 0.12);
            transform: translateY(-2px);
        }
        
        .quick-prompts {
            margin-top: 8px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .btn {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: #fff;
            padding: 10px 14px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 200ms cubic-bezier(.2, .9, .2, 1);
            font-weight: 600;
            font-size: 0.95rem;
        }
        
        .btn:hover {
            transform: translateY(-6px) scale(1.03);
            background: linear-gradient(90deg, rgba(10, 113, 208, 0.95), rgba(30, 144, 255, 0.95));
            box-shadow: 0 12px 35px rgba(10, 113, 208, 0.25);
        }
        /* --- CHATBOX --- */
        
        .chatbox {
            position: sticky;
            top: 30px;
            align-self: start;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px) saturate(180%);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            padding: 18px;
            height: calc(75vh);
            box-shadow: 0 25px 80px rgba(2, 6, 23, 0.6);
            margin-right: 40px;
            display: flex;
            flex-direction: column;
            gap: 14px;
            z-index: 4;
            transition: all 300ms ease;
        }
        
        .chatbox:hover {
            transform: translateY(-6px);
            box-shadow: 0 35px 100px rgba(2, 6, 23, 0.8);
            background: rgba(255, 255, 255, 0.12);
        }
        
        .chat-header {
            background: linear-gradient(90deg, var(--deep-blue), var(--bright-blue));
            padding: 12px;
            border-radius: 12px;
            color: #fff;
            font-weight: 700;
            text-align: center;
            font-size: 1.1rem;
        }
        
        .messages {
            flex: 1;               /* take up all available space */
            overflow-y: auto;      /* scroll when too many messages */
            padding: 10px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .bubble {
            max-width: 80%;
            padding: 12px 14px;
            border-radius: 14px;
            line-height: 1.4;
            font-size: 0.95rem;
            animation: bubbleIn 300ms ease;
        }
        
        @keyframes bubbleIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .bubble.bot {
            background: rgba(0, 0, 0, 0.8);
            color: #fff;
            align-self: flex-start;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        }
        
        .bubble.user {
            background: linear-gradient(90deg, var(--deep-blue), var(--bright-blue));
            color: #fff;
            align-self: flex-end;
            box-shadow: 0 12px 30px rgba(10, 113, 208, 0.25);
        }
        
        .input-row {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .input-row input {
            flex: 1;
            padding: 12px 14px;
            border-radius: 12px;
            border: none;
            outline: none;
            font-size: 0.95rem;
            background: rgba(255, 255, 255, 0.9);
            transition: box-shadow 200ms ease;
        }
        
        .input-row input:focus {
            box-shadow: 0 0 0 3px rgba(10, 113, 208, 0.3);
        }
        
        .send-btn {
            background: linear-gradient(90deg, var(--green), #06b6d4);
            color: #fff;
            padding: 12px 16px;
            border-radius: 12px;
            border: none;
            cursor: pointer;
            font-weight: 700;
            transition: all 200ms ease;
        }
        
        .send-btn:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 10px 35px rgba(6, 182, 212, 0.2);
        }
        
        .mic-btn {
            background: rgba(255, 255, 255, 0.06);
            border: 1px solid rgba(255, 255, 255, 0.12);
            padding: 10px 12px;
            border-radius: 12px;
            cursor: pointer;
            backdrop-filter: blur(6px);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: transform 160ms ease, box-shadow 160ms ease;
            font-weight: 700;
            color: white;
        }
        
        .mic-btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.45);
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.05));
        }
        /* --- FEATURE GRID --- */
        
        .feature-grid {
            width: 100%;
            max-width: 1300px;
            margin: 3rem auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            z-index: 3;
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 300ms ease;
            cursor: pointer;
        }
        
        .feature-card:hover {
            transform: translateY(-8px);
            background: rgba(255, 255, 255, 0.12);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 12px;
        }
        
        .feature-title {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--tint);
        }
        
        .feature-desc {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.4;
        }
        /* --- FOOTER --- */
        
        footer {
            z-index: 3;
            padding: 2rem;
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
            background: rgba(0, 0, 0, 0.3);
            margin-top: 2rem;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 1rem;
        }
        
        .footer-section h4 {
            color: var(--tint);
            margin-bottom: 8px;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 4px;
        }
        
        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: color 200ms ease;
            display: inline-flex;
            gap: 8px;
            align-items: center;
            font-weight: 600;
        }
        
        .footer-links a:hover {
            color: var(--tint);
        }
        /* --- AUTH MODAL --- */
        
        .auth-modal {
            display: none;
            position: fixed;
            inset: 0;
            z-index: 20000;
            background: rgba(0, 0, 0, 0.6);
            align-items: center;
            justify-content: center;
            padding: 24px;
        }
        
        .auth-modal-content {
            width: min(680px, 92vw);
            background: rgba(255, 255, 255, 0.98);
            color: #06203a;
            border-radius: 14px;
            padding: 20px;
            box-shadow: 0 30px 80px rgba(2, 6, 23, 0.6);
            position: relative;
        }
        
        .auth-close {
            position: absolute;
            top: 10px;
            right: 12px;
            border: none;
            background: transparent;
            font-size: 22px;
            cursor: pointer;
        }
        
        .auth-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }
        
        .auth-tab {
            flex: 1;
            padding: 10px 12px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            background: #f0f4f8;
            font-weight: 700;
        }
        
        .auth-tab.active {
            background: linear-gradient(90deg, #0a71d0, #1e90ff);
            color: white;
        }
        
        .auth-form {
            display: none;
            gap: 10px;
            flex-direction: column;
        }
        
        .auth-form.active {
            display: flex;
        }
        
        .auth-form input,
        .auth-form select {
            padding: 10px 12px;
            border-radius: 8px;
            border: 1px solid #d6dbe6;
            font-size: 1rem;
        }
        
        .pw-wrap {
            position: relative;
        }
        
        .pw-wrap .pw-toggle {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }
        
        .auth-submit {
            margin-top: 6px;
            padding: 10px 14px;
            border-radius: 10px;
            border: none;
            background: linear-gradient(90deg, #10b981, #06b6d4);
            color: white;
            font-weight: 700;
            cursor: pointer;
        }
        /* --- QUIZ STYLES --- */
        
        .quiz-question {
            margin: 12px 0;
            background: rgba(0, 0, 0, 0.35);
            padding: 12px;
            border-radius: 10px;
        }
        
        .quiz-options {
            display: grid;
            gap: 8px;
            margin-top: 8px;
        }
        
        .quiz-option {
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.06);
            background: rgba(255, 255, 255, 0.02);
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .quiz-option:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateX(5px);
        }
        
        .quiz-option.selected {
            background: linear-gradient(90deg, var(--deep-blue), var(--bright-blue));
            color: #fff;
            border-color: rgba(255, 255, 255, 0.08);
        }
        /* --- DISEASE INFO CARDS --- */
        
        .disease-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 16px;
            margin: 10px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        .disease-card:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-4px);
        }
        
        .disease-card h4 {
            color: var(--tint);
            margin-bottom: 8px;
        }
        
        .fact-myth-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        /* --- RESPONSIVE --- */
        
        @media (max-width: 1000px) {
            .main {
                grid-template-columns: 1fr;
                padding: 1.5rem;
                gap: 1.5rem;
            }
            .chatbox {
                position: relative;
                margin-right: 0;
                width: 100%;
                height: 60vh;
            }
            .nav-section {
                flex-direction: column;
                gap: 0.5rem;
                align-items: flex-end;
            }
            .side-panel.open {
                width: 92%;
            }
        }
        
        @media (max-width: 600px) {
            .hero h2 {
                font-size: 1.8rem;
            }
            .quick-prompts {
                flex-direction: column;
            }
            .btn {
                width: 100%;
                text-align: center;
            }
            .input-row {
                gap: 6px;
            }
            .mic-btn,
            .send-btn {
                padding: 10px 12px;
            }
            .center-modal {
                width: 96vw;
                padding: 12px;
            }
            .logo-text {
                font-size: 2rem;
            }
            .logo-tagline {
                font-size: 1rem;
            }
        }
        /* ===== NAV BUTTON GLOW EFFECT (non-functional, purely visual) ===== */
        
        #languageBtn,
        #authBtn,
        #locationBtn,
        #howToUseBtn {
            position: relative;
            transition: transform 200ms ease, box-shadow 200ms ease;
        }
        /* gentle pulsing glow */
        
        @keyframes curaGlowPulse {
            0% {
                box-shadow: 0 0 10px rgba(34, 211, 238, 0.12), 0 0 0 rgba(16, 185, 129, 0);
                transform: translateY(0);
            }
            50% {
                box-shadow: 0 0 40px rgba(34, 211, 238, 0.9), 0 0 80px rgba(16, 185, 129, 0.5);
                transform: translateY(-2px);
            }
            100% {
                box-shadow: 0 0 10px rgba(34, 211, 238, 0.12), 0 0 0 rgba(16, 185, 129, 0);
                transform: translateY(0);
            }
        }
        
        #languageBtn,
        #authBtn,
        #locationBtn,
        #howToUseBtn {
            animation: curaGlowPulse 1.8s ease-in-out 1 forwards;
            will-change: box-shadow, transform;
        }
        /* ===== SIDE PANEL CLOSE BUTTON (small, unobtrusive) ===== */
        
        .side-close {
            position: absolute;
            right: 12px;
            top: 12px;
            width: 34px;
            height: 34px;
            border-radius: 8px;
            border: none;
            background: rgba(255, 255, 255, 0.06);
            color: #fff;
            font-size: 18px;
            cursor: pointer;
            display: grid;
            place-items: center;
            z-index: 10031;
            transition: transform 120ms ease, background 120ms ease;
        }
        
        .side-close:hover {
            transform: scale(1.05);
            background: rgba(255, 255, 255, 0.12);
        }
    </style>
</head>
    <script>
      const symptoms = {{ symptoms | tojson | safe }};

      $(document).ready(function(){
        console.log("Loaded symptoms:", symptoms); // Debug in browser console
        $("#symptomSelect").select2({
          placeholder: "Type or search symptoms...",
          width: "100%",
          data: symptoms.map(s => ({
            id: s,
            text: s.replace(/_/g, " ")
          }))
        });
      });

    </script>

<body>
    <!-- Logo Animation Overlay -->
    <!-- ===== CURA INTRO (5s Attractive Animation) ===== -->
    <style>
        #curaIntroOverlay {
            position: fixed;
            inset: 0;
            display: grid;
            place-items: center;
            background: linear-gradient(160deg, #020617, #0f172a);
            z-index: 20000;
            overflow: hidden;
        }
        
        #curaIntroCard {
            width: min(360px, 80vw);
            text-align: center;
            color: #fff;
            opacity: 0;
            transform: scale(0.8) translateY(40px);
            animation: cardEnter 1s ease forwards;
            animation-delay: 0.3s;
        }
        
        #curaIntroLogo {
            width: 140px;
            height: 140px;
            margin: 0 auto 14px;
            border-radius: 50%;
            display: grid;
            place-items: center;
            background: radial-gradient(circle at 30% 30%, #22d3ee44, #0ea5e922, #0f172a00);
            box-shadow: 0 0 35px #22d3ee88, 0 0 70px #0ea5e9aa;
            animation: logoPulse 2s ease-in-out infinite;
            position: relative;
            overflow: hidden;
        }
        /* Shine sweep */
        
        #curaIntroLogo::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -60%;
            width: 200%;
            height: 200%;
            background: linear-gradient(120deg, transparent, rgba(255, 255, 255, 0.25), transparent);
            transform: rotate(25deg);
            animation: shine 3s ease-in-out infinite;
        }
        
        #curaIntroLogo img {
            width: 70%;
            height: auto;
            border-radius: 50%;
            z-index: 1;
        }
        
        #curaIntroTag {
            font-size: 1.2rem;
            font-weight: 700;
            opacity: 0;
            transform: translateY(20px);
            animation: textUp 1s ease forwards;
            animation-delay: 1.6s;
        }
        
        #curaIntroSmall {
            margin-top: 6px;
            font-size: 0.9rem;
            color: #cbd5e1;
            opacity: 0;
            transform: translateY(16px);
            animation: textUp 1s ease forwards;
            animation-delay: 2.2s;
        }
        /* Skip */
        
        #curaIntroSkip {
            position: absolute;
            right: 18px;
            top: 18px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            padding: 6px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            color: #fff;
        }
        /* Animations */
        
        @keyframes cardEnter {
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        
        @keyframes logoPulse {
            0%,
            100% {
                transform: scale(1);
                box-shadow: 0 0 35px #22d3ee88, 0 0 70px #0ea5e9aa;
            }
            50% {
                transform: scale(1.08);
                box-shadow: 0 0 45px #22d3eeaa, 0 0 90px #0ea5e9cc;
            }
        }
        
        @keyframes shine {
            0% {
                transform: translateX(-150%) rotate(25deg);
            }
            60% {
                transform: translateX(150%) rotate(25deg);
            }
            100% {
                transform: translateX(150%) rotate(25deg);
            }
        }
        
        @keyframes textUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes flyToCorner {
            0% {
                transform: scale(1) translate(0, 0);
                opacity: 1;
            }
            70% {
                transform: scale(0.4) translate(-40vw, -35vh);
                opacity: 0.9;
            }
            100% {
                transform: scale(0.1) translate(-46vw, -40vh);
                opacity: 0;
            }
        }
    </style>
    <!-- ===== INTRO ANIMATION OVERLAY (CURA INTRO) ===== -->
    <div aria-hidden="false" id="curaIntroOverlay">
        <button aria-label="Skip intro" id="curaIntroSkip">Skip</button>
        <div aria-label="CURA Intro Card" aria-modal="true" id="curaIntroCard" role="dialog">
            <div id="curaIntroLogo">
                <img alt="CURA AI Logo" src="{{ url_for('static', filename='images/animation logo.jpg') }}" />
            </div>
            <div id="curaIntroTag">CURA AI — AI that cares.Knowledge that heals .
            </div>
            <div id="curaIntroSmall">Loading your multilingual, privacy-first experience…</div>
        </div>
    </div>
    <script>
        /* Intro script: runs once on page load, then fades/flies away. No reopen behavior. */
        (function() {
            const overlay = document.getElementById('curaIntroOverlay');
            const card = document.getElementById('curaIntroCard');
            const skipBtn = document.getElementById('curaIntroSkip');

            const DURATION = 5000; // 5s

            function endIntro() {
                // animate fly-to-corner and hide after animation
                card.style.animation = '';
                overlay.style.animation = 'flyToCorner 0.7s cubic-bezier(.2,1.2,.3,1) forwards';
                setTimeout(() => {
                    overlay.style.display = 'none';
                    overlay.setAttribute('aria-hidden', 'true');
                    overlay.style.animation = ''; // clear animation state
                }, 700);
            }

            // auto close after DURATION
            setTimeout(endIntro, DURATION);

            // Skip button closes immediately
            skipBtn.addEventListener('click', (ev) => {
                ev.stopPropagation();
                endIntro();
            });

            // Accessibility: allow ESC to close immediately as well
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') endIntro();
            });
        })();
    </script>
    <!-- ===== END CURA INTRO ===== -->
    <!-- Parallax Background -->
    <!-- ===== PARALLAX BACKGROUND ===== -->
    <div class="parallax-bg"></div>
    <!-- Background Animations -->
    <!-- ===== BACKGROUND FLOATING ELEMENTS + HEARTBEAT LINE ===== -->
    <div aria-hidden="true" class="bg-anim">
        <div class="floating-circle c1"></div>
        <div class="floating-circle c2"></div>
        <div class="floating-circle c3"></div>
        <div class="floating-circle c4"></div>
        <div aria-hidden="true" class="heartbeat"></div>
    </div>
    <!-- Header -->
    <header>
        <!-- ===== HEADER / BRAND / NAVIGATION ===== -->
        <div class="brand-box" id="brandBox" title="Open menu">
            <div class="brand-title">CURA AI</div>
            <div class="brand-tag">AI THAT CARES, KNOWLEDGE THAT HEALS</div>
        </div>
        <div class="nav-section">
            <a class="nav-btn" href="#" id="howToUseBtn">
                📖 <span id="howToUseLabel">How to Use</span>
</a>
            <!-- ===== LANGUAGE DROPDOWN ===== -->
            <div class="language-dropdown" id="languageDropdownWrap">
                <button aria-expanded="false" aria-haspopup="true" class="nav-btn" id="languageBtn" title="Select language">
                    🌐 <span id="languageBtnLabel">Language</span> ▼
                </button>
                <div aria-label="Language options" class="dropdown-content" id="languageDropdown" role="menu">
                    <!-- populated dynamically by JS -->
                </div>
            </div>
            <button class="nav-btn" id="authBtn" title="Sign Up / Login">🔐 Sign Up / Login</button>
            <button class="nav-btn" id="locationBtn" title="Share location">
                🗺️ <span id="locationLabel">Location</span>
</button>
        </div>
    </header>
    <!-- Side panel (slide-in) -->
    <!-- ===== SIDE PANEL NAVIGATION (SLIDE-IN) ===== -->
    <aside aria-hidden="true" class="side-panel" id="sidePanel"><button aria-label="Close side panel" class="side-close" id="sidePanelClose">×</button>
        <div class="side-user" id="sideUser">
            <div class="user-avatar" id="userAvatar">U</div>
            <div>
                <div id="sideUserName" style="font-weight:800;">Guest</div>
                <div id="sideUserAge" style="font-size:0.8rem; color:rgba(255,255,255,0.6)">Age: --</div>
                <div id="sideUserSex" style="font-size:0.8rem; color:rgba(255,255,255,0.6)">Sex: --</div>
                <div id="sideUserPhone" style="font-size:0.85rem; color:rgba(255,255,255,0.7)">Phone: --</div>
                <div id="sideUserLocation" style="font-size:0.8rem; color:rgba(255,255,255,0.6)">Location: --</div>
            </div>
        </div>
        <div class="side-item" id="nonFunctionalCuraBtn">🏥 CURA AI</div>
        <div class="side-item" id="sideQuizBtn">🧠 Health Quiz</div>
        <div class="side-item" id="sideFactsMythsBtn">🔍 Facts VS Myths</div>
        <div class="side-item" id="sideAwarenessBtn">📚 Awareness ▾</div>
        <div class="side-submenu" id="awarenessSubmenu">
            <div class="side-item" data-page="awareness-mental">🧠 Mental Wellbeing</div>
            <div class="side-item" data-page="awareness-physical">🏃 Physical Wellbeing</div>
            <div class="side-item" data-page="awareness-spiritual">🕉️ Spiritual Wellbeing</div>
        </div>
        <div class="side-item" id="sideDoctorsBtn">👩‍⚕️ Doctors</div>
        <div class="side-item" id="sidePharmacyBtn">🏪 Pharmacy Network</div>
        <div class="side-item" id="sideAboutBtn">ℹ️ About Us</div>
    </aside>
    <!-- Auth Modal -->
    <!-- ===== AUTHENTICATION MODAL (Sign Up / Login) ===== -->
    <div aria-hidden="true" class="auth-modal" id="authModal">
        <div aria-labelledby="authTitle" aria-modal="true" class="auth-modal-content" role="dialog">
            <div class="modal-header">
                <h3 id="authTitle">Welcome to CURA AI</h3>
                <div class="modal-controls">
                    <button class="modal-control-btn minimize-btn" title="Minimize">−</button>
                    <button class="modal-control-btn maximize-btn" title="Maximize">□</button>
                    <button class="modal-control-btn close-btn" id="authClose" title="Close">×</button>
                </div>
            </div>
            <div aria-label="Authentication tabs" class="auth-tabs" role="tablist">
                <button aria-selected="true" class="auth-tab active" id="tabSignup" role="tab">Sign Up</button>
                <button aria-selected="false" class="auth-tab" id="tabLogin" role="tab">Login</button>
            </div>
            <form autocomplete="on" class="auth-form active" id="signupForm">
                <input id="su_fullname" name="fullname" placeholder="Full name" required="" type="text" />
                <input id="su_age" min="0" name="age" placeholder="Age" required="" type="number" />
                <select id="su_sex" name="sex" required="">
<option value="">Select sex</option>
<option>Male</option>
<option>Female</option>
<option>Other</option>
</select>
                <input id="su_phone" name="phone" placeholder="Phone number" required="" type="tel" />
                <input id="su_location" name="location" placeholder="Location" type="text" />
                <div class="pw-wrap">
                    <input id="su_password" minlength="8" name="password" placeholder="Password" required="" type="password" />
                    <button aria-label="Show password" class="pw-toggle" data-target="su_password" type="button">👁️</button>
                </div>
                <button class="auth-submit" type="submit">Sign Up</button>
            </form>
            <form autocomplete="on" class="auth-form" id="loginForm">
                <input id="li_phone" name="phone" placeholder="Phone number" required="" type="tel" />
                <div class="pw-wrap">
                    <input id="li_password" name="password" placeholder="Password" required="" type="password" />
                    <button aria-label="Show password" class="pw-toggle" data-target="li_password" type="button">👁️</button>
                </div>
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <small><a href="#" id="forgotLink">Forgot password?</a></small>
                    <button class="auth-submit" type="submit">Login</button>
                </div>
            </form>
            <div id="authMessage" style="margin-top:10px; text-align:center; font-size:0.95rem;"></div>
        </div>
    </div>
    <!-- Location Modal -->
    <!-- ===== LOCATION MODAL (Map + Search) ===== -->
    <div class="location-modal" id="locationModal">
        <div class="location-modal-content">
            <div class="modal-header">
                <h3>Select Your Location</h3>
                <div class="modal-controls">
                    <button class="modal-control-btn minimize-btn" title="Minimize">−</button>
                    <button class="modal-control-btn maximize-btn" title="Maximize">□</button>
                    <button class="modal-control-btn close-btn" id="locationClose" title="Close">×</button>
                </div>
            </div>
            <input class="location-search" id="locationSearch" placeholder="Search for a location..." type="text" />
            <div class="map-container" id="mapContainer">
                <div class="map-controls">
                    <button class="map-btn" id="zoomIn">+</button>
                    <button class="map-btn" id="zoomOut">−</button>
                </div>
                <div style="text-align: center; color: #666;">
                    📍 Interactive Map<br/>
                    <small>Click to place pin and select location</small>
                </div>
            </div>
        </div>
    </div>
    <!-- Center modal for pages -->
    <!-- ===== CENTER MODAL (Dynamic Pages) ===== -->
    <div aria-hidden="true" aria-modal="true" class="center-modal" id="centerModal" role="dialog">
        <div class="modal-header">
            <strong id="centerTitle">Page</strong>
            <div class="modal-controls">
                <button class="modal-control-btn minimize-btn" title="Minimize">−</button>
                <button class="modal-control-btn maximize-btn" title="Maximize">□</button>
                <button class="modal-control-btn close-btn" id="closeCenterModal" title="Close">×</button>
            </div>
        </div>
        <div class="modal-body" id="centerBody">
            <!-- populated dynamically -->
        </div>
    </div>
    <!-- Main Content -->
    <!-- ===== MAIN CONTENT: HERO + QUICK PROMPTS + CHATBOX ===== -->
    <main class="main" id="main">
        <section aria-labelledby="hero-title" class="hero">
            <h2 id="hero-title">Your <span style="color:var(--green)">symptoms</span>,<br/>clear guidance.</h2>
            <p id="hero-desc">Describe what you feel. CURA AI provides evidence-based symptom analysis, red-flag identification, vaccination guidance, and care recommendations.</p>
            <div class="current-location" id="currentLocation">
                📍 Current location: <span id="locationDisplay">Unknown</span>
            </div>
            <div class="quick-prompts" id="quickPrompts" role="list">
                <button class="btn" onclick="sendMessage('Sore throat and fever since yesterday')">🤒 Sore throat + fever</button>
                <button class="btn" onclick="sendMessage('Headache with nausea for 3 hours')">🧠 Headache + nausea</button>
                <button class="btn" onclick="sendMessage('Dry cough and breathing difficulty')">🫁 Respiratory issues</button>
                <button class="btn" onclick="sendMessage('Which vaccines for a 2 year old?')">💉 Vaccination query</button>
                <button class="btn" onclick="sendMessage('Skin rash with itching')">🩹 Skin problems</button>
                <button class="btn" onclick="sendMessage('Stomach pain after meals')">🍽️ Digestive issues</button>
            </div>
        </section>
        <aside aria-label="CURA AI chat" class="chatbox" role="region">
            <div class="chat-header" id="chatHeader">
                💬 CURA AI Advanced Chat
            </div>

            <div aria-live="polite" class="messages" id="messages">
                <div class="bubble bot" id="initialBot">
                👋 Hello! I'm CURA AI, your advanced healthcare assistant. Describe your symptoms in detail (e.g., "fever 101°F and sore throat for 2 days, no appetite"). 
                I can help with symptom analysis, treatment guidance, and healthcare recommendations.
                </div>
            </div> <!-- ✅ messages closes here -->

            <div class="input-row">
                <!-- Multi symptom dropdown -->
                <select id="symptomSelect" multiple="multiple"></select>

                <!-- Free text input -->
                <input aria-label="Type your message" id="userInput" placeholder="Or type your symptoms..." />

                <!-- Voice button -->
                <button class="mic-btn" id="micBtn" title="Voice input">🎙️</button>

                <!-- Send button -->
                <!-- <button class="send-btn" id="sendBtn" title="Send message" onclick="sendMessage()">💬 Send</button> -->
                <button class="send-btn" id="sendBtn">💬 Send</button>
            </div>
        </aside>

    </main>
    <!-- Feature Grid -->
    <!-- ===== FEATURE GRID SECTION ===== -->
    <section class="feature-grid" id="features">
        <div class="feature-card" id="emergencySignCard">
            <div class="feature-icon">🚨</div>
            <div class="feature-title">Emergency Signs</div>
            <div class="feature-desc">Learn critical symptoms that require immediate medical attention</div>
        </div>
        <div class="feature-card" id="healthAlertsCard">
            <div class="feature-icon">📡</div>
            <div class="feature-title">Health Alerts</div>
            <div class="feature-desc">Real-time disease outbreak and health advisory updates</div>
        </div>
        <div class="feature-card" id="preventiveGuideCard">
            <div class="feature-icon">🛡️</div>
            <div class="feature-title">Prevention Guide</div>
            <div class="feature-desc">Comprehensive preventive healthcare and wellness tips</div>
        </div>
        <div class="feature-card" id="medicineSafetyCard">
            <div class="feature-icon">💊</div>
            <div class="feature-title">Medicine Safety</div>
            <div class="feature-desc">Safe medication usage and drug interaction warnings</div>
        </div>
    </section>
    <!-- Footer -->
    <!-- ===== FOOTER & LINKS ===== -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul class="footer-links">
                    <li><a href="https://wa.me/"><span>🟢</span> WhatsApp</a></li>
                    <li><a href="https://instagram.com/"><span>📸</span> Instagram</a></li>
                    <li><a href="tel:+919876543210"><span>📞</span> Call Us</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Emergency</h4>
                <ul class="footer-links">
                    <li><a href="tel:108">📞 Emergency: 108</a></li>
                    <li><a href="tel:102">🚑 Ambulance: 102</a></li>
                    <li><a href="#" id="findHospitalsBtn">🏥 Find Hospitals</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Support</h4>
                <ul class="footer-links">
                    <li><a href="#" id="privacyPolicyBtn">🔒 Privacy Policy</a></li>
                    <li><a href="https://forms.google.com/feedback" target="_blank">📝 Feedback</a></li>
                </ul>
            </div>
        </div>
        <div style="text-align:center; margin-top:1rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1);">
            © <span id="year"></span> CURA AI - Advanced Healthcare Assistant. Not for medical emergencies.
        </div>
    </footer>
    <script>
        /* -------- Utilities & State -------- */
        const translations = {
            en: {
                name: 'English',
                langLabel: 'Language',
                heroTitle: 'Your <span style="color:var(--green)">symptoms</span>,<br>clear guidance.',
                heroDesc: 'Describe what you feel. CURA AI provides evidence-based symptom analysis, red-flag identification, vaccination guidance, and care recommendations.',
                placeholder: 'Describe your symptoms in detail...',
                initialBot: "👋 Hello! I'm CURA AI, your advanced healthcare assistant. Describe your symptoms in detail (e.g., \"fever 101°F and sore throat for 2 days, no appetite\"). I can help with symptom analysis, treatment guidance, and healthcare recommendations.",
                chatHeader: '💬 CURA AI Advanced Chat',
                quickPrompts: [
                    '🤒 Sore throat + fever',
                    '🧠 Headache + nausea',
                    '🫁 Respiratory issues',
                    '💉 Vaccination query',
                    '🩹 Skin problems',
                    '🍽️ Digestive issues'
                ]
            },
            hi: {
                name: 'हिन्दी',
                langLabel: 'भाषा',
                heroTitle: 'आपके <span style="color:var(--green)">लक्षण</span>,<br>स्पष्ट मार्गदर्शन।',
                heroDesc: 'जो महसूस कर रहे हैं उसे बताइए। CURA AI लक्षण विश्लेषण, रेड-फ़्लैग पहचान, टीकाकरण मार्गदर्शन और देखभाल सुझाव प्रदान करता है।',
                placeholder: 'अपनी लक्षणों को विस्तार से बताएं...',
                initialBot: '👋 नमस्ते! मैं CURA AI हूँ, आपका उन्नत हेल्थकेयर असिस्टेंट। अपनी लक्षणें विस्तार से बताइए।',
                chatHeader: '💬 CURA AI उन्नत चैट',
                quickPrompts: [
                    '🤒 गला दर्द + बुखार',
                    '🧠 सिरदर्द + मितली',
                    '🫁 साँस लेने में कठिनाई',
                    '💉 टीकाकरण प्रश्न',
                    '🩹 त्वचा की समस्या',
                    '🍽️ पाचन संबंधी समस्या'
                ]
            }
            // Add more languages as needed
        };

        // 22 official Indian languages (Eighth Schedule) with native names
        const languageList = {
            en: 'English',
            hi: 'हिन्दी',
            as: 'অসমীয়া',
            bn: 'বাংলা',
            brx: 'बड़ो (Bodo)',
            doi: 'डोगरी',
            gu: 'ગુજરાતી',
            kn: 'ಕನ್ನಡ',
            ks: 'کٲشُر / کژھری (Kashmiri)',
            kok: 'कोंकणी',
            mai: 'मैथिली',
            ml: 'മലയാളം',
            mni: 'Manipuri',
            mr: 'मराठी',
            ne: 'नेपाली',
            or: 'ଓଡ଼ିଆ',
            pa: 'ਪੰਜਾਬੀ',
            sa: 'संस्कृतम्',
            sat: 'संताली (Santali)',
            sd: 'سنڌي (Sindhi)',
            ta: 'தமிழ்',
            te: 'తెలుగు',
            ur: 'اردو'
        };

        let currentLang = 'en';
        let userLocation = null;
        let currentLocationName = 'Unknown';

        /* -------- Logo Animation -------- */
        function startLogoAnimation() {
            const logoAnim = document.getElementById('logoAnimation');

            // After 7 seconds, start closing animation
            setTimeout(() => {
                logoAnim.classList.add('fade-out');

                // After fade out completes, hide completely
                setTimeout(() => {
                    logoAnim.style.display = 'none';
                }, 1000);
            }, 7000);
        }

        /* -------- DOM Refs -------- */
        const languageBtn = document.getElementById('languageBtn');
        const languageBtnLabel = document.getElementById('languageBtnLabel');
        const languageDropdown = document.getElementById('languageDropdown');
        const languageDropdownWrap = document.getElementById('languageDropdownWrap');
        const messages = document.getElementById('messages');
        const sendBtn = document.getElementById('sendBtn');
        const userInput = document.getElementById('userInput');
        const yearSpan = document.getElementById('year');
        const heroTitle = document.getElementById('hero-title');
        const heroDesc = document.getElementById('hero-desc');
        const initialBot = document.getElementById('initialBot');
        const chatHeader = document.getElementById('chatHeader');
        const quickPromptsWrap = document.getElementById('quickPrompts');
        const locationBtn = document.getElementById('locationBtn');
        const locationLabel = document.getElementById('locationLabel');
        const micBtn = document.getElementById('micBtn');
        const authBtn = document.getElementById('authBtn');
        const authModal = document.getElementById('authModal');
        const authClose = document.getElementById('authClose');
        const tabSignup = document.getElementById('tabSignup');
        const tabLogin = document.getElementById('tabLogin');
        const signupForm = document.getElementById('signupForm');
        const loginForm = document.getElementById('loginForm');
        const authMessage = document.getElementById('authMessage');
        const brandBox = document.getElementById('brandBox');
        const sidePanel = document.getElementById('sidePanel');
        const centerModal = document.getElementById('centerModal');
        const centerTitle = document.getElementById('centerTitle');
        const centerBody = document.getElementById('centerBody');
        const closeCenterModal = document.getElementById('closeCenterModal');
        const howToUseBtn = document.getElementById('howToUseBtn');
        const currentLocation = document.getElementById('currentLocation');
        const locationDisplay = document.getElementById('locationDisplay');
        const locationModal = document.getElementById('locationModal');
        const locationClose = document.getElementById('locationClose');

        /* -------- Initialization -------- */
        function init() {
            // Start logo animation
            startLogoAnimation();

            // Set year
            const now = new Date();
            yearSpan.textContent = now.getFullYear();

            // Populate language dropdown
            populateLanguageDropdown();

            // Wire event listeners
            setupEventListeners();

            // Update location display
            updateLocationDisplay();

            // Set default language UI
            applyLanguageUI(currentLang);

            // Setup scrolling effects
            setupScrollingEffects();

            // Update auth UI if logged in
            updateAuthUI();
        }

        function setupEventListeners() {
            // Language dropdown
            languageBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                toggleDropdown();
            });

            document.addEventListener('click', (ev) => {
                if (!languageDropdownWrap.contains(ev.target)) {
                    closeDropdown();
                }
            });

            document.addEventListener('keydown', (ev) => {
                if (ev.key === 'Escape') {
                    closeDropdown();
                    closeModal();
                    closeCenterModalFn();
                    closeLocationModal();
                }
            });

            // Send button + Enter key
            sendBtn.addEventListener('click', () => {
                const text = userInput.value.trim();
                if (text) {
                    sendMessage(text);
                    userInput.value = '';
                    userInput.focus();
                }
            });

            userInput.addEventListener('keydown', (ev) => {
                if (ev.key === 'Enter' && !ev.shiftKey) {
                    ev.preventDefault();
                    sendBtn.click();
                }
            });

            // Navigation buttons
            howToUseBtn.addEventListener('click', () => openCenterPage('how-to-use'));
            micBtn.addEventListener('click', () => startVoiceInput());
            locationBtn.addEventListener('click', () => openLocationModal());

            // Auth modal
            authBtn.addEventListener('click', () => {
                authModal.style.display = 'flex';
                authModal.setAttribute('aria-hidden', 'false');
                showSignup(true);
            });

            authClose.addEventListener('click', closeModal);
            authModal.addEventListener('click', (e) => {
                if (e.target === authModal) closeModal();
            });

            tabSignup.addEventListener('click', () => showSignup(true));
            tabLogin.addEventListener('click', () => showSignup(false));

            // Location modal
            locationClose.addEventListener('click', closeLocationModal);
            currentLocation.addEventListener('click', () => openLocationModal());

            // Password toggles
            document.querySelectorAll('.pw-toggle').forEach(btn => {
                btn.addEventListener('click', () => {
                    const targetId = btn.dataset.target;
                    const input = document.getElementById(targetId);
                    if (!input) return;
                    input.type = input.type === 'password' ? 'text' : 'password';
                    btn.textContent = input.type === 'password' ? '👁️' : '🙈';
                });
            });

            // Side panel
            brandBox.addEventListener('click', toggleSidePanel);
            setupSidePanelButtons();

            // Center modal
            closeCenterModal.addEventListener('click', closeCenterModalFn);

            // Feature cards
            setupFeatureCards();

            // Footer links
            setupFooterLinks();
        }

        function setupSidePanelButtons() {
            const sideUser = document.getElementById('sideUser');
            const sideQuizBtn = document.getElementById('sideQuizBtn');
            const sideFactsMythsBtn = document.getElementById('sideFactsMythsBtn');
            const sideAwarenessBtn = document.getElementById('sideAwarenessBtn');
            const awarenessSubmenu = document.getElementById('awarenessSubmenu');
            const sideDoctorsBtn = document.getElementById('sideDoctorsBtn');
            const sidePharmacyBtn = document.getElementById('sidePharmacyBtn');
            const sideAboutBtn = document.getElementById('sideAboutBtn');

            sideUser.addEventListener('click', () => openCenterPage('profile'));
            sideQuizBtn.addEventListener('click', () => openCenterPage('quiz'));
            sideFactsMythsBtn.addEventListener('click', () => openCenterPage('facts-myths'));
            sideAwarenessBtn.addEventListener('click', () => awarenessSubmenu.classList.toggle('open'));

            awarenessSubmenu.querySelectorAll('.side-item').forEach(item => {
                item.addEventListener('click', (e) => openCenterPage(item.dataset.page));
            });

            sideDoctorsBtn.addEventListener('click', () => openCenterPage('doctors'));
            sidePharmacyBtn.addEventListener('click', () => openCenterPage('pharmacy'));
            sideAboutBtn.addEventListener('click', () => openCenterPage('about'));
        }

        function setupFeatureCards() {
            document.getElementById('emergencySignCard').addEventListener('click', () => openCenterPage('emergency-signs'));
            document.getElementById('healthAlertsCard').addEventListener('click', () => openCenterPage('health-alerts'));
            document.getElementById('preventiveGuideCard').addEventListener('click', () => openCenterPage('preventive-guide'));
            document.getElementById('medicineSafetyCard').addEventListener('click', () => openCenterPage('medicine-safety'));
        }

        function setupFooterLinks() {
            document.getElementById('findHospitalsBtn').addEventListener('click', (e) => {
                e.preventDefault();
                openCenterPage('hospitals');
            });

            document.getElementById('privacyPolicyBtn').addEventListener('click', (e) => {
                e.preventDefault();
                openCenterPage('privacy-policy');
            });
        }

        function setupScrollingEffects() {
            let ticking = false;

            function updateScrollEffects() {
                const scrolled = window.scrollY > 50;
                document.body.classList.toggle('scrolled', scrolled);

                // Parallax effect
                const parallaxBg = document.querySelector('.parallax-bg');
                if (parallaxBg) {
                    const yPos = -(window.scrollY * 0.3);
                    parallaxBg.style.transform = `translateY(${yPos}px)`;
                }

                ticking = false;
            }

            window.addEventListener('scroll', () => {
                if (!ticking) {
                    requestAnimationFrame(updateScrollEffects);
                    ticking = true;
                }
            });
        }

        /* -------- Location Functions -------- */
        function openLocationModal() {
            locationModal.style.display = 'flex';
        }

        function closeLocationModal() {
            locationModal.style.display = 'none';
        }

        function updateLocationDisplay() {
            locationDisplay.textContent = currentLocationName;
        }

        function requestLocation() {
            if (!navigator.geolocation) {
                alert('Geolocation is not supported by your browser.');
                return;
            }

            locationLabel.textContent = 'Locating...';
            navigator.geolocation.getCurrentPosition((pos) => {
                userLocation = {
                    lat: pos.coords.latitude,
                    lon: pos.coords.longitude
                };
                currentLocationName = `${userLocation.lat.toFixed(4)}, ${userLocation.lon.toFixed(4)}`;
                locationLabel.textContent = 'Location ✓';
                updateLocationDisplay();
                addBotBubble(`Location captured: ${currentLocationName}`);
            }, (err) => {
                console.warn(err);
                locationLabel.textContent = 'Location';
                alert('Unable to retrieve location. Please allow location permission.');
            }, {
                enableHighAccuracy: true,
                timeout: 10000
            });
        }

        /* -------- Language Functions -------- */
        function populateLanguageDropdown() {
            languageDropdown.innerHTML = '';
            for (const [code, nativeName] of Object.entries(languageList)) {
                const item = document.createElement('div');
                item.className = 'dropdown-item';
                item.setAttribute('role', 'menuitem');
                item.dataset.lang = code;
                item.innerHTML = `${nativeName} <span style="float:right;opacity:0.6;font-weight:600">${code}</span>`;
                item.addEventListener('click', (ev) => {
                    ev.preventDefault();
                    changeLanguage(code);
                    closeDropdown();
                });
                languageDropdown.appendChild(item);
            }
        }

        function toggleDropdown() {
            const isShown = languageDropdown.classList.contains('show');
            if (isShown) closeDropdown();
            else openDropdown();
        }

        function openDropdown() {
            languageDropdown.classList.add('show');
            languageBtn.setAttribute('aria-expanded', 'true');
        }

        function closeDropdown() {
            languageDropdown.classList.remove('show');
            languageBtn.setAttribute('aria-expanded', 'false');
        }

        function changeLanguage(lang) {
            if (!languageList[lang]) return;
            currentLang = lang;
            applyLanguageUI(lang);
            addBotBubble(`🛈 Language switched to ${languageList[lang]}.`);
        }

        function applyLanguageUI(lang) {
            const t = translations[lang] || translations['en'];

            // Update UI elements
            languageBtnLabel.textContent = `${t.langLabel || 'Language'}: ${languageList[lang] || t.name || lang}`;
            heroTitle.innerHTML = t.heroTitle || translations.en.heroTitle;
            heroDesc.textContent = t.heroDesc || translations.en.heroDesc;
            userInput.placeholder = t.placeholder || translations.en.placeholder;
            initialBot.textContent = t.initialBot || translations.en.initialBot;
            chatHeader.textContent = t.chatHeader || translations.en.chatHeader;

            // Rebuild quick prompts
            quickPromptsWrap.innerHTML = '';
            const qps = t.quickPrompts || translations.en.quickPrompts;
            qps.forEach((qp) => {
                const b = document.createElement('button');
                b.className = 'btn';
                b.type = 'button';
                b.textContent = qp;
                b.onclick = () => sendMessage(qp);
                quickPromptsWrap.appendChild(b);
            });
        }

        /* -------- Chat Functions -------- */
        function addUserBubble(text) {
            const div = document.createElement('div');
            div.className = 'bubble user';
            div.textContent = text;
            messages.appendChild(div);
            scrollMessagesToBottom();
        }

        function addBotBubble(text) {
            const div = document.createElement('div');
            div.className = 'bubble bot';
            if (typeof text === 'string') div.textContent = text;
            else div.textContent = JSON.stringify(text);
            messages.appendChild(div);
            scrollMessagesToBottom();
        }

        function scrollMessagesToBottom() {
            setTimeout(() => {
                messages.scrollTop = messages.scrollHeight;
            }, 40);
        }

        async function sendMessage() {
            const input = document.getElementById("userInput");
            const msg = input.value.trim();
            const messagesDiv = document.getElementById("messages");

            if (!msg) return;

            // Show user message in chat
            const userBubble = document.createElement("div");
            userBubble.className = "bubble user";
            userBubble.innerText = msg;
            messagesDiv.appendChild(userBubble);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;

            // Allow multiple inputs separated by "|"
            const parts = msg.split("|").map(p => p.trim()).filter(Boolean);

            try {
                const res = await fetch("https://cura-ai.onrender.com/chat", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ message: parts.length > 1 ? parts : parts[0] })
                });
                const data = await res.json();

                if (data.responses) {
                    // multiple inputs case
                    data.responses.forEach(resp => appendBotResponse(resp));
                } else if (data.results) {
                    // single input case
                    appendBotResponse(data);
                } else {
                    appendBotResponse({ error: data.error || "Unknown error", input: msg });
                }

                messagesDiv.scrollTop = messagesDiv.scrollHeight;
            } catch (err) {
                appendBotResponse({ error: "❌ Could not reach server.", input: msg });
            }

            input.value = "";
        }

        function appendBotResponse(resp) {
            const messagesDiv = document.getElementById("messages");
            const botBubble = document.createElement("div");
            botBubble.className = "bubble bot";

            if (resp.error) {
                botBubble.innerText = `⚠️ ${resp.input || ""} ${resp.error}`;
            } else {
                let text = `Input: ${resp.input}\n\n`;
                resp.results.forEach(r => {
                    text += `• Disease: ${r.disease} (${r.confidence}%) → Doctor: ${r.doctor}\n`;
                });
                botBubble.innerText = text;
            }

            messagesDiv.appendChild(botBubble);
        }
        
        
        
        /* -------- Voice Input -------- */
        function startVoiceInput() {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            if (!SpeechRecognition) {
                alert('Voice recognition not supported in this browser.');
                return;
            }

            const rec = new SpeechRecognition();
            rec.lang = currentLang === 'en' ? 'en-IN' : (currentLang === 'hi' ? 'hi-IN' : 'en-IN');
            rec.interimResults = false;
            rec.maxAlternatives = 1;

            micBtn.textContent = 'Listening...';
            rec.start();

            rec.onresult = (e) => {
                const transcript = e.results[0][0].transcript;
                userInput.value = transcript;
                micBtn.textContent = '🎙️';
            };

            rec.onerror = (e) => {
                console.error(e);
                micBtn.textContent = '🎙️';
                alert('Voice input error: ' + e.error);
            };

            rec.onend = () => {
                micBtn.textContent = '🎙️';
            };
        }

        /* -------- Auth Functions -------- */
        function showSignup(isSignup) {
            tabSignup.classList.toggle('active', isSignup);
            tabLogin.classList.toggle('active', !isSignup);
            signupForm.classList.toggle('active', isSignup);
            loginForm.classList.toggle('active', !isSignup);
        }

        function closeModal() {
            authModal.style.display = 'none';
            authModal.setAttribute('aria-hidden', 'true');
            authMessage.textContent = '';
        }

        function showMessage(msg, isError = false) {
            authMessage.textContent = msg;
            authMessage.style.color = isError ? '#991b1b' : '#0b7a4f';
        }

        function updateAuthUI() {
            const userRaw = localStorage.getItem('cura_user');
            if (userRaw) {
                const user = JSON.parse(userRaw);
                authBtn.textContent = `Hi, ${user.fullname.split(' ')[0]}`;
                authBtn.onclick = () => {
                    if (confirm('Logout?')) {
                        localStorage.removeItem('cura_token');
                        localStorage.removeItem('cura_user');
                        location.reload();
                    }
                };

                // Update side panel user info
                updateSideUserInfo(user);
            } else {
                authBtn.textContent = '🔐 Sign Up / Login';
                authBtn.onclick = () => {
                    authModal.style.display = 'flex';
                    showSignup(true);
                };
                updateSideUserInfo(null);
            }
        }

        function updateSideUserInfo(user) {
            const sideUserName = document.getElementById('sideUserName');
            const sideUserAge = document.getElementById('sideUserAge');
            const sideUserSex = document.getElementById('sideUserSex');
            const sideUserPhone = document.getElementById('sideUserPhone');
            const sideUserLocation = document.getElementById('sideUserLocation');
            const userAvatar = document.getElementById('userAvatar');

            if (user) {
                sideUserName.textContent = user.fullname || 'User';
                sideUserAge.textContent = `Age: ${user.age || '--'}`;
                sideUserSex.textContent = `Sex: ${user.sex || '--'}`;
                sideUserPhone.textContent = `Phone: ${user.phone || '--'}`;
                sideUserLocation.textContent = `Location: ${user.location || currentLocationName}`;
                userAvatar.textContent = (user.fullname || 'U').split(' ').map(s => s[0]).slice(0, 2).join('').toUpperCase();
            } else {
                sideUserName.textContent = 'Guest';
                sideUserAge.textContent = 'Age: --';
                sideUserSex.textContent = 'Sex: --';
                sideUserPhone.textContent = 'Phone: --';
                sideUserLocation.textContent = 'Location: --';
                userAvatar.textContent = 'U';
            }
        }

        /* -------- Side Panel -------- */
        function toggleSidePanel() {
            sidePanel.classList.toggle('open');
        }

        /* -------- Center Modal Pages -------- */
        function openCenterPage(page) {
            centerBody.innerHTML = '';

            // Set title based on page
            const titles = {
                'quiz': 'Health Quiz',
                'facts-myths': 'Facts and Myths',
                'awareness-mental': 'Mental Wellbeing',
                'awareness-physical': 'Physical Wellbeing',
                'awareness-spiritual': 'Spiritual Wellbeing',
                'doctors': 'Nearby Doctors',
                'pharmacy': 'Nearby Pharmacies',
                'about': 'About Us',
                'how-to-use': 'How to Use CURA AI',
                'emergency-signs': 'Emergency Signs',
                'health-alerts': 'Health Alerts',
                'preventive-guide': 'Prevention Guide',
                'medicine-safety': 'Medicine Safety',
                'hospitals': 'Nearby Hospitals',
                'privacy-policy': 'Privacy Policy',
                'profile': 'Your Profile'
            };

            centerTitle.textContent = titles[page] || 'Page';

            // Generate content based on page
            if (page === 'quiz') {
                showQuiz();
            } else if (page === 'facts-myths') {
                showFactsMyths();
            } else if (page === 'how-to-use') {
                showHowToUse();
            } else if (page === 'emergency-signs') {
                showEmergencySigns();
            } else if (page === 'health-alerts') {
                showHealthAlerts();
            } else if (page === 'preventive-guide') {
                showPreventiveGuide();
            } else if (page === 'medicine-safety') {
                showMedicineSafety();
            } else if (page.startsWith('awareness-')) {
                showAwarenessContent(page);
            } else if (page === 'about') {
                showAboutUs();
            } else if (page === 'privacy-policy') {
                showPrivacyPolicy();
            } else {
                centerBody.innerHTML = `<div>Content for ${page} page will be implemented here.</div>`;
            }

            centerModal.classList.add('open');
            centerModal.setAttribute('aria-hidden', 'false');
        }

        function closeCenterModalFn() {
            centerModal.classList.remove('open');
            centerModal.setAttribute('aria-hidden', 'true');
            centerBody.innerHTML = '';
        }

        /* -------- Page Content Functions -------- */
        function showQuiz() {
            const questions = [{
                q: 'Which of the following is an immediate red-flag that requires emergency attention?',
                options: ['Mild headache', 'Difficulty breathing', 'Mild cough', 'Slight fever'],
                a: 1,
                explanation: 'Difficulty breathing can indicate serious respiratory or cardiac issues requiring immediate medical attention.'
            }, {
                q: 'How long after onset of high fever should an adult seek medical review if not improving?',
                options: ['1 hour', '48-72 hours', '2 weeks', 'Never'],
                a: 1,
                explanation: 'High fever persisting beyond 48-72 hours warrants medical evaluation to rule out serious infections.'
            }, {
                q: 'Which measure helps prevent respiratory infection spread?',
                options: ['Hand hygiene', 'Sharing utensils', 'No ventilation', 'Ignoring coughs'],
                a: 0,
                explanation: 'Regular hand hygiene is one of the most effective ways to prevent the spread of respiratory infections.'
            }, {
                q: 'Which vaccine is commonly recommended for infants in their first year?',
                options: ['DPT vaccine', 'COVID-19 only', 'No vaccines needed', 'Only adult vaccines'],
                a: 0,
                explanation: 'DPT (Diphtheria, Pertussis, Tetanus) is a crucial vaccine series for infants starting at 2 months.'
            }, {
                q: 'Which symptom suggests possible dehydration?',
                options: ['Frequent urination', 'Dry mouth and reduced urine output', 'Clear abundant urine', 'Normal skin elasticity'],
                a: 1,
                explanation: 'Dry mouth and reduced urine output are classic signs of dehydration requiring fluid replacement.'
            }, {
                q: 'For mild pain or fever in adults, which OTC medicine is often recommended (unless allergic)?',
                options: ['Paracetamol (acetaminophen)', 'Aspirin for children under 3', 'Unknown unlabeled pills', 'Alcohol'],
                a: 0,
                explanation: 'Paracetamol is generally safe and effective for mild pain and fever when used as directed.'
            }, {
                q: 'Which lifestyle change improves long-term physical wellbeing?',
                options: ['Regular physical activity', 'Persistent smoking', 'Excessive alcohol daily', 'Chronic sleep deprivation'],
                a: 0,
                explanation: 'Regular physical activity improves cardiovascular health, immunity, and overall wellbeing.'
            }];

            let idx = 0;
            let score = 0;
            let answers = [];
            const total = questions.length;

            function renderQuestion() {
                const cur = questions[idx];
                centerBody.innerHTML = `
                    <div class="quiz-question">
                        <strong>Question ${idx+1} / ${total}</strong>
                        <div style="margin-top:8px; font-size: 1.1rem;">${cur.q}</div>
                        <div class="quiz-options" id="quizOptions">
                            ${cur.options.map((op,i) => `<div class="quiz-option" data-opt="${i}">${op}</div>`).join('')}
                        </div>
                        <div style="display:flex;justify-content:space-between;margin-top:16px;">
                            <button id="prevQ" ${idx===0?'disabled':''} class="btn">Previous</button>
                            <button id="nextQ" class="auth-submit">${idx === total-1 ? 'Finish' : 'Next'}</button>
                        </div>
                    </div>
                `;

                document.querySelectorAll('.quiz-option').forEach(el => {
                    el.addEventListener('click', (e) => {
                        document.querySelectorAll('.quiz-option').forEach(x => x.classList.remove('selected'));
                        el.classList.add('selected');
                    });
                });

                document.getElementById('nextQ').addEventListener('click', () => {
                    const sel = document.querySelector('.quiz-option.selected');
                    if (!sel) { 
                        alert('Please select an option'); 
                        return; 
                    }
                    
                    const chosen = parseInt(sel.dataset.opt, 10);
                    answers[idx] = chosen;
                    if (chosen === cur.a) score++;
                    
                    idx++;
                    if (idx >= total) {
                        showQuizResult();
                    } else {
                        renderQuestion();
                    }
                });

                document.getElementById('prevQ').addEventListener('click', () => {
                    if (idx === 0) return;
                    idx--;
                    renderQuestion();
                    
                    // Restore previous answer if exists
                    if (answers[idx] !== undefined) {
                        const optionEl = document.querySelector(`[data-opt="${answers[idx]}"]`);
                        if (optionEl) optionEl.classList.add('selected');
                    }
                });
            }

            function showQuizResult() {
                let resultHtml = `
                    <div style="text-align:center;padding:20px;">
                        <h2>Your Health Awareness Score</h2>
                        <div style="font-size:36px;font-weight:800;margin:16px 0;color:var(--tint);">${score} / ${total}</div>
                        <div style="margin:20px 0;">
                `;

                if (score >= 6) {
                    resultHtml += `<p style="color: #10b981; font-size: 1.1rem;">Excellent! You have good health awareness.</p>`;
                } else if (score >= 4) {
                    resultHtml += `<p style="color: #f59e0b; font-size: 1.1rem;">Good knowledge! Consider reviewing some health basics.</p>`;
                } else {
                    resultHtml += `<p style="color: #ef4444; font-size: 1.1rem;">Consider learning more about health and safety basics.</p>`;
                }

                resultHtml += `
                        </div>
                        <h3 style="margin-top: 24px; margin-bottom: 12px;">Review Your Answers:</h3>
                        <div style="text-align: left; max-height: 300px; overflow-y: auto;">
                `;

                questions.forEach((q, qIdx) => {
                    const userAnswer = answers[qIdx];
                    const correct = userAnswer === q.a;
                    resultHtml += `
                        <div style="margin-bottom: 16px; padding: 12px; border-radius: 8px; background: ${correct ? 'rgba(16, 185, 129, 0.1)' : 'rgba(239, 68, 68, 0.1)'};">
                            <strong>Q${qIdx+1}:</strong> ${q.q}<br>
                            <span style="color: ${correct ? '#10b981' : '#ef4444'};">
                                Your answer: ${q.options[userAnswer]} ${correct ? '✓' : '✗'}
                            </span><br>
                            ${!correct ? `<span style="color: #10b981;">Correct: ${q.options[q.a]}</span><br>` : ''}
                            <small style="color: rgba(255,255,255,0.8);">${q.explanation}</small>
                        </div>
                    `;
                });

                resultHtml += `
                        </div>
                        <div style="margin-top:20px;display:flex;gap:12px;justify-content:center;">
                            <button class="auth-submit" id="retakeQuiz">Retake Quiz</button>
                            <button class="btn" id="closeQuizBtn">Close</button>
                        </div>
                    </div>
                `;

                centerBody.innerHTML = resultHtml;
                
                document.getElementById('retakeQuiz').addEventListener('click', () => { 
                    idx = 0; 
                    score = 0; 
                    answers = [];
                    renderQuestion(); 
                });
                document.getElementById('closeQuizBtn').addEventListener('click', closeCenterModalFn);
            }

            renderQuestion();
        }

        function showFactsMyths() {
            const factsMythsData = [
                {
                    disease: "Diabetes",
                    fact: "Regular exercise and proper diet can help manage blood sugar levels effectively.",
                    myth: "Eating sugar directly causes diabetes. (Myth: Type 2 diabetes is caused by multiple factors including genetics and lifestyle)",
                    image: "🩺"
                },
                {
                    disease: "Hypertension", 
                    fact: "High blood pressure often has no symptoms, earning it the nickname 'silent killer'.",
                    myth: "You'll always feel symptoms if you have high blood pressure. (Myth: Most people feel no symptoms)",
                    image: "💗"
                },
                {
                    disease: "Tuberculosis",
                    fact: "TB is completely curable with proper medication taken for the full course (6-9 months).",
                    myth: "TB cannot be cured and is always fatal. (Myth: Modern treatment is highly effective)",
                    image: "🫁"
                },
                {
                    disease: "Malaria",
                    fact: "Using mosquito nets and eliminating standing water prevents malaria transmission.",
                    myth: "Malaria spreads from person to person directly. (Myth: It requires mosquito vectors)",
                    image: "🦟"
                },
                {
                    disease: "Diarrheal Diseases",
                    fact: "ORS (Oral Rehydration Solution) can prevent dangerous dehydration from diarrhea.",
                    myth: "You should avoid drinking fluids when you have diarrhea. (Myth: Hydration is crucial)",
                    image: "💧"
                },
                {
                    disease: "Anemia",
                    fact: "Iron-rich foods like green leafy vegetables and jaggery help prevent iron deficiency anemia.",
                    myth: "Anemia only affects women. (Myth: It can affect anyone, including children and men)",
                    image: "🩸"
                }
            ];

            let currentSlide = 0;

            function renderSlide() {
                const data = factsMythsData[currentSlide];
                centerBody.innerHTML = `
                    <div style="text-align: center; padding: 20px;">
                        <div style="font-size: 4rem; margin-bottom: 16px;">${data.image}</div>
                        <h2 style="color: var(--tint); margin-bottom: 20px;">${data.disease}</h2>
                        
                        <div style="display: grid; gap: 20px; margin: 24px 0;">
                            <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: 12px; border-left: 4px solid #10b981;">
                                <h4 style="color: #10b981; margin-bottom: 8px;">✅ FACT</h4>
                                <p>${data.fact}</p>
                            </div>
                            
                            <div style="background: rgba(239, 68, 68, 0.1); padding: 16px; border-radius: 12px; border-left: 4px solid #ef4444;">
                                <h4 style="color: #ef4444; margin-bottom: 8px;">❌ MYTH</h4>
                                <p>${data.myth}</p>
                            </div>
                        </div>

                        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 24px;">
                            <button class="btn" id="prevSlide" ${currentSlide === 0 ? 'disabled' : ''}>⬅ Previous</button>
                            <span style="color: rgba(255,255,255,0.7);">${currentSlide + 1} / ${factsMythsData.length}</span>
                            <button class="btn" id="nextSlide" ${currentSlide === factsMythsData.length - 1 ? 'disabled' : ''}>Next ➡</button>
                        </div>
                    </div>
                `;

                document.getElementById('prevSlide').addEventListener('click', () => {
                    if (currentSlide > 0) {
                        currentSlide--;
                        renderSlide();
                    }
                });

                document.getElementById('nextSlide').addEventListener('click', () => {
                    if (currentSlide < factsMythsData.length - 1) {
                        currentSlide++;
                        renderSlide();
                    }
                });
            }

            renderSlide();
        }

        function showHowToUse() {
            centerBody.innerHTML = `
                <div style="padding: 20px; line-height: 1.6;">
                    <h3 style="color: var(--tint); margin-bottom: 16px;">Welcome to CURA AI!</h3>
                    
                    <div style="margin-bottom: 24px;">
                        <h4 style="color: var(--tint); margin-bottom: 8px;">🗣️ Describe Your Symptoms</h4>
                        <p>Simply describe what you're feeling in the chat box. Be specific about symptoms, duration, and severity.</p>
                    </div>

                    <div style="margin-bottom: 24px;">
                        <h4 style="color: var(--tint); margin-bottom: 8px;">🌐 Choose Your Language</h4>
                        <p>CURA AI supports 22+ Indian languages. Click the language button to switch to your preferred language.</p>
                    </div>

                    <div style="margin-bottom: 24px;">
                        <h4 style="color: var(--tint); margin-bottom: 8px;">📍 Share Your Location</h4>
                        <p>Enable location services to find nearby doctors, pharmacies, and get location-specific health alerts.</p>
                    </div>

                    <div style="margin-bottom: 24px;">
                        <h4 style="color: var(--tint); margin-bottom: 8px;">🧠 Take Health Quiz</h4>
                        <p>Test your health knowledge with our interactive quiz designed for rural and semi-urban awareness.</p>
                    </div>

                    <div style="margin-bottom: 24px;">
                        <h4 style="color: var(--tint); margin-bottom: 8px;">🚨 Emergency Features</h4>
                        <p>Learn emergency signs, get health alerts, and access emergency contacts quickly through the footer.</p>
                    </div>

                    <div style="background: rgba(239, 68, 68, 0.1); padding: 16px; border-radius: 12px; margin-top: 24px;">
                        <h4 style="color: #ef4444; margin-bottom: 8px;">⚠️ Important Disclaimer</h4>
                        <p><strong>CURA AI is for educational purposes only and not a substitute for professional medical advice.</strong> For medical emergencies, call 108 (Emergency) or 102 (Ambulance) immediately.</p>
                    </div>
                </div>
            `;
        }

        function showEmergencySigns() {
            const emergencyData = [
                {
                    disease: "Heart Attack",
                    signs: [
                        "Severe chest pain or pressure lasting more than a few minutes",
                        "Pain radiating to arm, neck, jaw, or back",
                        "Shortness of breath with chest discomfort",
                        "Cold sweats, nausea, or lightheadedness",
                        "Feeling of impending doom"
                    ]
                },
                {
                    disease: "Stroke",
                    signs: [
                        "Sudden numbness or weakness of face, arm, or leg",
                        "Sudden confusion or trouble speaking",
                        "Sudden trouble seeing in one or both eyes",
                        "Sudden severe headache with no known cause",
                        "Sudden trouble walking or loss of balance"
                    ]
                },
                {
                    disease: "Severe Allergic Reaction",
                    signs: [
                        "Difficulty breathing or wheezing",
                        "Swelling of face, lips, tongue, or throat",
                        "Rapid pulse or dizziness",
                        "Widespread skin rash or hives",
                        "Nausea, vomiting, or severe abdominal pain"
                    ]
                },
                {
                    disease: "Diabetic Emergency",
                    signs: [
                        "Very high or very low blood sugar levels",
                        "Extreme thirst and frequent urination",
                        "Nausea, vomiting, or abdominal pain",
                        "Fruity breath odor",
                        "Confusion or unconsciousness"
                    ]
                },
                {
                    disease: "Severe Asthma Attack",
                    signs: [
                        "Extreme difficulty breathing or shortness of breath",
                        "Inability to speak in full sentences",
                        "Bluish lips or fingernails",
                        "Panic or anxiety due to breathing difficulty",
                        "Wheezing or coughing that doesn't respond to medication"
                    ]
                }
            ];

            let currentEmergency = 0;

            function renderEmergencySlide() {
                const data = emergencyData[currentEmergency];
                centerBody.innerHTML = `
                    <div style="padding: 20px;">
                        <div style="text-align: center; margin-bottom: 24px;">
                            <div style="font-size: 3rem; margin-bottom: 12px;">🚨</div>
                            <h2 style="color: #ef4444; margin-bottom: 8px;">${data.disease}</h2>
                            <p style="color: rgba(255,255,255,0.8);">Recognize these emergency signs</p>
                        </div>

                        <div style="background: rgba(239, 68, 68, 0.1); border-radius: 12px; padding: 20px; margin: 20px 0;">
                            <h4 style="color: #ef4444; margin-bottom: 16px;">Emergency Warning Signs:</h4>
                            <ul style="list-style: none; padding: 0;">
                                ${data.signs.map(sign => `
                                    <li style="padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.1);">
                                        ⚠️ ${sign}
                                    </li>
                                `).join('')}
                            </ul>
                        </div>

                        <div style="background: rgba(239, 68, 68, 0.2); padding: 16px; border-radius: 12px; text-align: center; margin: 20px 0;">
                            <h4 style="color: #ef4444; margin-bottom: 8px;">If you see these signs:</h4>
                            <p><strong>Call 108 (Emergency) or 102 (Ambulance) IMMEDIATELY</strong></p>
                        </div>

                        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 24px;">
                            <button class="btn" id="prevEmergency" ${currentEmergency === 0 ? 'disabled' : ''}>⬅ Previous</button>
                            <span style="color: rgba(255,255,255,0.7);">${currentEmergency + 1} / ${emergencyData.length}</span>
                            <button class="btn" id="nextEmergency" ${currentEmergency === emergencyData.length - 1 ? 'disabled' : ''}>Next ➡</button>
                        </div>
                    </div>
                `;

                document.getElementById('prevEmergency').addEventListener('click', () => {
                    if (currentEmergency > 0) {
                        currentEmergency--;
                        renderEmergencySlide();
                    }
                });

                document.getElementById('nextEmergency').addEventListener('click', () => {
                    if (currentEmergency < emergencyData.length - 1) {
                        currentEmergency++;
                        renderEmergencySlide();
                    }
                });
            }

            renderEmergencySlide();
        }

        function showHealthAlerts() {
            // Simulate checking for local outbreaks
            const hasOutbreak = Math.random() > 0.7; // 30% chance of outbreak simulation
            
            if (hasOutbreak) {
                centerBody.innerHTML = `
                    <div style="background: linear-gradient(135deg, #ef4444, #dc2626); padding: 20px; border-radius: 12px; text-align: center;">
                        <div style="font-size: 4rem; margin-bottom: 16px;">🚨</div>
                        <h2 style="color: white; margin-bottom: 16px;">HEALTH ALERT</h2>
                        <p style="color: white; font-size: 1.2rem; margin-bottom: 20px;">
                            Dengue outbreak reported in your locality
                        </p>
                        <div style="background: rgba(255,255,255,0.1); padding: 16px; border-radius: 8px; margin: 16px 0;">
                            <h4 style="color: white; margin-bottom: 12px;">Precautionary Measures:</h4>
                            <ul style="text-align: left; color: white;">
                                <li>Remove standing water around your home</li>
                                <li>Use mosquito repellents and nets</li>
                                <li>Wear long sleeves during dawn and dusk</li>
                                <li>Seek immediate medical care for fever with body pain</li>
                            </ul>
                        </div>
                    </div>
                `;
            } else {
                centerBody.innerHTML = `
                    <div style="text-align: center; padding: 20px;">
                        <div style="font-size: 4rem; margin-bottom: 16px; color: #10b981;">✅</div>
                        <h2 style="color: #10b981; margin-bottom: 16px;">No Active Alerts</h2>
                        <p style="color: rgba(255,255,255,0.8); margin-bottom: 24px;">
                            No disease outbreaks currently reported in your area.
                        </p>
                        
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 20px; border-radius: 12px; margin: 20px 0;">
                            <h4 style="color: #10b981; margin-bottom: 12px;">Stay Prepared:</h4>
                            <ul style="text-align: left; color: rgba(255,255,255,0.9);">
                                <li>Maintain good hygiene practices</li>
                                <li>Stay updated with local health authorities</li>
                                <li>Get regular health check-ups</li>
                                <li>Follow vaccination schedules</li>
                            </ul>
                        </div>
                    </div>
                `;
            }
        }

        function showPreventiveGuide() {
            const hygieneTopics = [
                "Hand Washing", "Dental Care", "Food Safety", "Water Purification", 
                "Personal Hygiene", "Home Sanitation", "Waste Disposal", "Vector Control",
                "Respiratory Hygiene", "Safe Food Preparation"
            ];

            const diseases = [
                "COVID-19", "Diarrheal Diseases", "Respiratory Infections", "Skin Infections",
                "Vector-borne Diseases", "Food Poisoning", "Eye Infections", "Hepatitis",
                "Tuberculosis", "Typhoid"
            ];

            centerBody.innerHTML = `
                <div style="padding: 20px;">
                    <!-- Hygiene Slides -->
                    <div style="background: rgba(16, 185, 129, 0.1); padding: 20px; border-radius: 12px; margin-bottom: 24px;">
                        <h3 style="color: #10b981; margin-bottom: 16px;">Basic Hygiene Practices</h3>
                        <div id="hygieneSlides" style="min-height: 200px; text-align: center;">
                            <!-- Slide content will be populated by JS -->
                        </div>
                        <div style="display: flex; justify-content: center; gap: 12px; margin-top: 16px;">
                            <button class="btn" id="prevHygiene">⬅ Previous</button>
                            <span id="hygieneCounter" style="color: rgba(255,255,255,0.7);"></span>
                            <button class="btn" id="nextHygiene">Next ➡</button>
                        </div>
                    </div>

                    <!-- Disease Prevention Buttons -->
                    <div>
                        <h3 style="color: var(--tint); margin-bottom: 16px;">Disease Prevention Guides</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;">
                            ${diseases.map(disease => `
                                <button class="btn disease-btn" data-disease="${disease}" style="padding: 12px; text-align: center;">
                                    ${disease}
                                </button>
                            `).join('')}
                        </div>
                    </div>

                    <div id="diseaseInfo" style="margin-top: 24px;">
                        <!-- Disease prevention info will appear here -->
                    </div>
                </div>
            `;

            // Hygiene slides functionality
            let currentHygieneSlide = 0;
            const hygieneContent = [
                { title: "Hand Washing", content: "Wash hands with soap for 20 seconds. Use alcohol-based sanitizer when soap unavailable. 🧼", image: "🤲" },
                { title: "Dental Care", content: "Brush twice daily, floss regularly, avoid excessive sugar. Visit dentist annually. 🦷", image: "🪥" },
                { title: "Food Safety", content: "Cook food thoroughly, store properly, wash fruits and vegetables before eating. 🍎", image: "🍽️" },
                { title: "Water Purification", content: "Boil water for 1 minute or use proper filtration. Store in clean containers. 💧", image: "💧" },
                { title: "Personal Hygiene", content: "Daily bathing, clean clothes, trim nails regularly, proper grooming. 🛁", image: "🚿" },
                { title: "Home Sanitation", content: "Regular cleaning, proper ventilation, pest control, waste management. 🏠", image: "🧽" },
                { title: "Waste Disposal", content: "Separate wet and dry waste, use proper bins, avoid littering. ♻️", image: "🗑️" },
                { title: "Vector Control", content: "Remove standing water, use mosquito nets, maintain cleanliness. 🦟", image: "🦟" },
                { title: "Respiratory Hygiene", content: "Cover coughs and sneezes, wear masks when sick, avoid crowded places. 😷", image: "😷" },
                { title: "Safe Food Preparation", content: "Clean utensils, separate raw and cooked foods, proper storage temperature. 👩‍🍳", image: "👩‍🍳" }
            ];

            function renderHygieneSlide() {
                const slide = hygieneContent[currentHygieneSlide];
                document.getElementById('hygieneSlides').innerHTML = `
                    <div style="font-size: 3rem; margin-bottom: 12px;">${slide.image}</div>
                    <h4 style="color: #10b981; margin-bottom: 8px;">${slide.title}</h4>
                    <p style="color: rgba(255,255,255,0.9);">${slide.content}</p>
                `;
                document.getElementById('hygieneCounter').textContent = `${currentHygieneSlide + 1} / ${hygieneContent.length}`;
            }

            document.getElementById('prevHygiene').addEventListener('click', () => {
                currentHygieneSlide = (currentHygieneSlide - 1 + hygieneContent.length) % hygieneContent.length;
                renderHygieneSlide();
            });

            document.getElementById('nextHygiene').addEventListener('click', () => {
                currentHygieneSlide = (currentHygieneSlide + 1) % hygieneContent.length;
                renderHygieneSlide();
            });

            // Disease prevention buttons
            document.querySelectorAll('.disease-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const disease = btn.dataset.disease;
                    showDiseasePreventionInfo(disease);
                });
            });

            renderHygieneSlide();
        }

        function showDiseasePreventionInfo(disease) {
            const preventionInfo = {
                "COVID-19": "Wear masks, maintain social distance, vaccinate, wash hands frequently, avoid crowded places.",
                "Diarrheal Diseases": "Safe drinking water, proper sanitation, hand hygiene, avoid street food, ORS for dehydration.",
                "Respiratory Infections": "Avoid close contact with sick people, cover coughs, improve ventilation, vaccination.",
                "Skin Infections": "Keep skin clean and dry, avoid sharing personal items, treat cuts promptly.",
                "Vector-borne Diseases": "Use mosquito nets, remove standing water, wear protective clothing, use repellents.",
                "Food Poisoning": "Cook food thoroughly, refrigerate promptly, avoid cross-contamination, check expiry dates.",
                "Eye Infections": "Avoid touching eyes with dirty hands, don't share eye makeup, use clean towels.",
                "Hepatitis": "Vaccination, safe drinking water, avoid sharing needles, practice safe hygiene.",
                "Tuberculosis": "Good ventilation, avoid crowded spaces, complete treatment if infected, proper nutrition.",
                "Typhoid": "Safe water and food, vaccination for travelers, proper sanitation, hand hygiene."
            };

            document.getElementById('diseaseInfo').innerHTML = `
                <div style="background: rgba(255, 255, 255, 0.05); padding: 16px; border-radius: 12px;">
                    <h4 style="color: var(--tint); margin-bottom: 12px;">Prevention for ${disease}</h4>
                    <p style="color: rgba(255,255,255,0.9);">${preventionInfo[disease]}</p>
                </div>
            `;
        }

        function showMedicineSafety() {
            const bannedMedicines = [
                { name: "Nimesulide (for children under 12)", reason: "Risk of liver toxicity in children" },
                { name: "Phenylpropanolamine", reason: "Increased risk of stroke" },
                { name: "Cisapride", reason: "Cardiac arrhythmia risk" },
                { name: "Terfenadine", reason: "Serious heart rhythm problems" },
                { name: "Astemizole", reason: "Potential for fatal heart arrhythmias" },
                { name: "Dextropropoxyphene", reason: "Serious heart toxicity" },
                { name: "Valdecoxib", reason: "Increased cardiovascular risks" },
                { name: "Rofecoxib", reason: "Heart attack and stroke risk" },
                { name: "Sibutramine", reason: "Cardiovascular and neurologic risks" },
                { name: "Rosiglitazone", reason: "Increased heart attack risk" }
            ];

            centerBody.innerHTML = `
                <div style="padding: 20px;">
                    <div style="background: rgba(239, 68, 68, 0.1); padding: 20px; border-radius: 12px; margin-bottom: 24px;">
                        <h3 style="color: #ef4444; margin-bottom: 16px;">⚠️ Banned Medicines in India</h3>
                        <p style="color: rgba(255,255,255,0.9); margin-bottom: 16px;">
                            The following medicines have been banned by the Government of India due to safety concerns:
                        </p>
                        
                        <div style="max-height: 400px; overflow-y: auto;">
                            ${bannedMedicines.map((med, index) => `
                                <div style="background: rgba(0,0,0,0.2); padding: 12px; margin: 8px 0; border-radius: 8px; border-left: 4px solid #ef4444;">
                                    <h5 style="color: #ef4444; margin-bottom: 4px;">${index + 1}. ${med.name}</h5>
                                    <p style="font-size: 0.9rem; color: rgba(255,255,255,0.8);">Reason: ${med.reason}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <div style="background: rgba(16, 185, 129, 0.1); padding: 20px; border-radius: 12px;">
                        <h4 style="color: #10b981; margin-bottom: 12px;">Medicine Safety Tips:</h4>
                        <ul style="color: rgba(255,255,255,0.9);">
                            <li>Always consult a qualified doctor before taking any medication</li>
                            <li>Check medicine expiry dates before use</li>
                            <li>Buy medicines only from licensed pharmacies</li>
                            <li>Don't share prescription medicines with others</li>
                            <li>Store medicines in proper conditions as directed</li>
                            <li>Report adverse drug reactions to authorities</li>
                            <li>Avoid self-medication for serious conditions</li>
                        </ul>
                    </div>
                </div>
            `;
        }

        function showAwarenessContent(type) {
            const awarenessType = type.split('-')[1];
            
            let content = '';
            if (awarenessType === 'mental') {
                content = `
                    <div style="padding: 20px;">
                        <div style="text-align: center; margin-bottom: 24px;">
                            <div style="font-size: 3rem; margin-bottom: 12px;">🧠</div>
                            <h3 style="color: var(--tint);">Mental Wellbeing</h3>
                        </div>

                        <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                            <h4 style="color: var(--tint); margin-bottom: 12px;">Did you know?</h4>
                            <p>1 in 7 people in India suffer from a mental health issue. Early recognition can reduce severity.</p>
                        </div>

                        <div style="display: grid; gap: 16px;">
                            <div class="disease-card">
                                <h4>Common Mental Health Issues</h4>
                                <p>Depression, anxiety, PTSD, stress-related disorders. Look for persistent mood changes, sleep problems, loss of interest in activities.</p>
                            </div>

                            <div class="disease-card">
                                <h4>Risk Factors</h4>
                                <p>Academic/work burnout, substance abuse, sleep deprivation, social isolation, chronic stress.</p>
                            </div>

                            <div class="disease-card">
                                <h4>Self-Help Techniques</h4>
                                <p>Deep breathing exercises, journaling, mindfulness meditation, regular exercise, maintaining social connections.</p>
                            </div>

                            <div class="disease-card">
                                <h4>When to Seek Help</h4>
                                <p>If symptoms persist for more than 2 weeks, interfere with daily life, or include thoughts of self-harm.</p>
                            </div>

                            <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: 12px;">
                                <h4 style="color: #10b981;">Emergency Mental Health Support</h4>
                                <p><strong>KIRAN Helpline: 1800-599-0019</strong> (24x7 mental health support)</p>
                            </div>
                        </div>
                    </div>
                `;
            } else if (awarenessType === 'physical') {
                content = `
                    <div style="padding: 20px;">
                        <div style="text-align: center; margin-bottom: 24px;">
                            <div style="font-size: 3rem; margin-bottom: 12px;">🏃</div>
                            <h3 style="color: var(--tint);">Physical Wellbeing</h3>
                        </div>

                        <div style="display: grid; gap: 16px;">
                            <div class="disease-card">
                                <h4>Exercise Guidelines</h4>
                                <p>WHO recommends 150 minutes of moderate exercise weekly. Even 30 minutes of brisk walking daily reduces heart disease risk by 30-40%.</p>
                            </div>

                            <div class="disease-card">
                                <h4>Nutrition Awareness</h4>
                                <p>Follow ICMR dietary guidelines: include iron-rich foods (spinach, jaggery) for anemia prevention, balanced proteins, and adequate hydration.</p>
                            </div>

                            <div class="disease-card">
                                <h4>Preventive Health</h4>
                                <p>Regular health check-ups, age-appropriate vaccinations, early detection of diabetes and hypertension through screening.</p>
                            </div>

                            <div class="disease-card">
                                <h4>Seasonal Health</h4>
                                <p>Monsoon: Check for mosquito breeding spots. Summer: Stay hydrated, avoid heat stroke. Winter: Flu prevention and warmth.</p>
                            </div>

                            <div class="disease-card">
                                <h4>Lifestyle Risks</h4>
                                <p>Obesity, smoking, excessive alcohol consumption significantly increase disease risk. Small lifestyle changes can have major health benefits.</p>
                            </div>
                        </div>
                    </div>
                `;
            } else {
                content = `
                    <div style="padding: 20px;">
                        <div style="text-align: center; margin-bottom: 24px;">
                            <div style="font-size: 3rem; margin-bottom: 12px;">🕉️</div>
                            <h3 style="color: var(--tint);">Spiritual Wellbeing</h3>
                        </div>

                        <div style="display: grid; gap: 16px;">
                            <div class="disease-card">
                                <h4>Mind-Body Practices</h4>
                                <p>Meditation, yoga, and mindfulness are backed by WHO and AYUSH guidelines. Regular practice improves mental clarity and reduces stress.</p>
                            </div>

                            <div class="disease-card">
                                <h4>Stress Reduction</h4>
                                <p>Studies show meditation for 10 minutes daily significantly reduces cortisol (stress hormone) levels and improves sleep quality.</p>
                            </div>

                            <div class="disease-card">
                                <h4>Holistic Health</h4>
                                <p>Gratitude journaling, positive affirmations, and spiritual practices improve psychological resilience and overall wellbeing.</p>
                            </div>

                            <div class="disease-card">
                                <h4>Community Connection</h4>
                                <p>Group activities, prayer/meditation circles, and volunteering contribute to sense of purpose and social support.</p>
                            </div>

                            <div style="background: rgba(139, 92, 246, 0.1); padding: 16px; border-radius: 12px;">
                                <h4 style="color: #8b5cf6;">Daily Practice</h4>
                                <p>Start with 5 minutes of daily mindfulness. International Yoga Day (June 21) promotes simple practices for beginners.</p>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            centerBody.innerHTML = content;
        }

        function showAboutUs() {
            centerBody.innerHTML = `
                <div style="padding: 20px; line-height: 1.6;">
                    <div style="text-align: center; margin-bottom: 24px;">
                        <div style="font-size: 3rem; margin-bottom: 12px;">🏥</div>
                        <h3 style="color: var(--tint);">About CURA AI</h3>
                    </div>

                    <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                        <h4 style="color: var(--tint); margin-bottom: 12px;">Our Mission</h4>
                        <p>CURA AI democratizes access to healthcare by combining evidence-based symptom triage, local provider discovery, outbreak alerts, and multilingual support—designed specifically for rural and semi-urban communities in India.</p>
                    </div>

                    <div style="display: grid; gap: 16px; margin: 24px 0;">
                        <div class="disease-card">
                            <h4>How We Built CURA AI</h4>
                            <p>Our team developed this platform using advanced AI technology, medical databases, and local healthcare insights to create a comprehensive health assistant that understands Indian healthcare needs.</p>
                        </div>

                        <div class="disease-card">
                            <h4>Our Vision</h4>
                            <p>To bridge the healthcare gap in rural and semi-urban India by providing accessible, accurate, and culturally appropriate health information in local languages.</p>
                        </div>

                        <div class="disease-card">
                            <h4>Key Features</h4>
                            <p>• Multilingual support (22+ Indian languages)<br>
                               • Evidence-based symptom analysis<br>
                               • Local healthcare provider discovery<br>
                               • Health awareness and education<br>
                               • Emergency guidance and alerts</p>
                        </div>

                        <div class="disease-card">
                            <h4>Our Commitment</h4>
                            <p>We are committed to providing free, accessible healthcare information while maintaining the highest standards of medical accuracy and user privacy.</p>
                        </div>
                    </div>

                    <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: 12px; text-align: center;">
                        <h4 style="color: #10b981; margin-bottom: 8px;">Contact Us</h4>
                        <p>For support, feedback, or partnerships, reach out to us through our social media channels or feedback form.</p>
                    </div>
                </div>
            `;
        }

        function showPrivacyPolicy() {
            centerBody.innerHTML = `
                <div style="padding: 20px; line-height: 1.6;">
                    <h3 style="color: var(--tint); margin-bottom: 16px;">Privacy Policy</h3>
                    
                    <div style="max-height: 400px; overflow-y: auto;">
                        <div style="margin-bottom: 24px;">
                            <h4 style="color: var(--tint); margin-bottom: 8px;">Data Collection</h4>
                            <p>We collect only necessary information to provide healthcare guidance: symptoms described, location (if shared), and basic demographics (if registered).</p>
                        </div>

                        <div style="margin-bottom: 24px;">
                            <h4 style="color: var(--tint); margin-bottom: 8px;">Data Usage</h4>
                            <p>Your data is used solely to provide personalized health recommendations and improve our services. We do not sell or share personal information with third parties.</p>
                        </div>

                        <div style="margin-bottom: 24px;">
                            <h4 style="color: var(--tint); margin-bottom: 8px;">Data Security</h4>
                            <p>All communication is encrypted. We follow industry-standard security practices to protect your health information.</p>
                        </div>

                        <div style="margin-bottom: 24px;">
                            <h4 style="color: var(--tint); margin-bottom: 8px;">Medical Disclaimer</h4>
                            <p>CURA AI provides educational information only and is not a substitute for professional medical advice, diagnosis, or treatment. Always consult qualified healthcare providers.</p>
                        </div>

                        <div style="margin-bottom: 24px;">
                            <h4 style="color: var(--tint); margin-bottom: 8px;">User Rights</h4>
                            <p>You have the right to access, modify, or delete your personal data at any time. Contact us for any privacy-related concerns.</p>
                        </div>

                        <div style="background: rgba(239, 68, 68, 0.1); padding: 16px; border-radius: 8px;">
                            <h4 style="color: #ef4444; margin-bottom: 8px;">Emergency Disclaimer</h4>
                            <p>For medical emergencies, immediately call 108 (Emergency) or 102 (Ambulance). Do not rely on CURA AI for emergency medical situations.</p>
                        </div>
                    </div>
                </div>
            `;
        }

        /* -------- Initialize -------- */
        init();
    


/* ===== Additional small helpers (nav glow is CSS-only; side panel close handler) ===== */
document.addEventListener('DOMContentLoaded', function(){
  try {
    var spClose = document.getElementById('sidePanelClose');
    var sp = document.getElementById('sidePanel');
    if (spClose && sp) {
      spClose.addEventListener('click', function(e){
        e.stopPropagation();
        sp.classList.remove('open');
      });
    }
  } catch (err) {
    console.warn('sidePanelClose init error', err);
  }
});
    
    </script>
</body>

</html>